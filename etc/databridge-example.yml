main:
  bulk_query_interval: 3
  bulk_query_limit: 5000
  bulk_save_interval: 3
  bulk_save_limit: 1000
  client_dec_step_timeout: 0.02
  client_inc_step_timeout: 0.1
  drop_threshold_client_cookies: 1.5
  filter_workers_count: 1
  queue_timeout: 15
  resource: lots
  resource_items_limit: 100
  resource_items_queue_size: 100
  # resources_api_server: https://lb.api-sandbox.ea2.openprocurement.net
  # resources_api_version: 2.3
  retries_count: 10
  retrievers_params:
    down_requests_sleep: 20
    queue_size: 1001
    up_requests_sleep: 20
    up_wait_sleep: 30
    up_wait_sleep_min: 5
  retry_default_timeout: 5
  retry_resource_items_queue_size: -1
  retry_workers_max: 3
  retry_workers_min: 1
  storage:
    db_name: lots_db
    host: 0.0.0.0
    password: ''
    port: 5990
    user: ''
  storage_db: couchdb
  user_agent: concierge.databridge
  watch_interval: 10
  worker_sleep: 25
  workers_dec_threshold: 35
  workers_inc_threshold: 75
  workers_max: 1
  workers_min: 1

version: 1

formatters:
  simple:
    format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'

handlers:
  console:
    class: logging.StreamHandler
    formatter: simple
    level: INFO
    stream: ext://sys.stdout
  journal:
    SYSLOG_IDENTIFIER: DATABRIDGE
    class: ExtendedJournalHandler.ExtendedJournalHandler
    formatter: simple
    level: INFO

loggers:
  logger_exc_logger:
    handlers:
    - console
    - journal
    level: ERROR
    propagate: 0
    qualname: exc_logger
  openprocurement.bridge.basic:
    handlers:
    - console
    level: DEBUG
    propagate: false
  root:
    handlers:
    - console
    level: DEBUG
    propagate: 0
